# Webアプリケーションの脆弱性を狙ったサイバー攻撃の対策をしよう (所要時間：20分程度)
# 問題
Webアプリケーションの脆弱性を狙ったサイバー攻撃により、多くの企業で被害を受けています。本格的な攻撃にさらされると、企業や組織の売上や信用に大きなダメージを与えます。
サービスの成長に伴い、利用者も増えていることから、Webアプリケーションの脆弱性を狙ったサイバー攻撃への対応の検討を本格的に進めるよう上層部から指示がありました。
そのため、OCIのWeb Application Firewallの検証を実施することになりました。下記要件を満たすことができるように設定を実施してください。

実現したい要件
- 下記条件に該当するアクセスがあった場合は、401コードを返却する
   - 日本以外の国からのアクセスがあった場合
   - 1秒以内に同一のIPアドレスから100回以上アクセスがあった場合
   - SQLインジェクションの脅威を受けた場合

# 解答
- アイデンティティとセキュリティ→ Webアプリケーション・ファイアウォールを選択
  - 画面起動後、ポリシーを選択
 
![Wafの設定](images/WAF/WAF01.png "Wafの設定") 

- 「WAFポリシーの作成」を押下し、「基本情報」に関する情報を入力

![Wafの設定](images/WAF/WAF02.png "Wafの設定") 

- 「次」を押下し、「アクセス制御の有効化」にチェックをいれ、「アクセス制御」に関する情報を入力

![Wafの設定](images/WAF/WAF03.png "Wafの設定") 

- 「次」を押下し、「レート制限ルールの構成の有効化」にチェックをいれ、「レート制限」に関する情報を入力

![Wafの設定](images/WAF/WAF04.png "Wafの設定")

- 「次」を押下し、「保護ルールの構成の有効化」にチェックをいれ、「保護」に関する情報を入力

![Wafの設定](images/WAF/WAF05.png "Wafの設定")

![Wafの設定](images/WAF/WAF06.png "Wafの設定")

![Wafの設定](images/WAF/WAF07.png "Wafの設定")

- 「次」を押下し、「強制ポイントの選択」に関する情報を入力

![Wafの設定](images/WAF/WAF08.png "Wafの設定")

- 「次」を押下し、「確認および作成」で設定内容を確認し、「WAFポリシーの作成」を選択

![Wafの設定](images/WAF/WAF09.png "Wafの設定")

- 作成されたポリシーを選択し、正常に作成できていることを確認

![Wafの設定](images/WAF/WAF10.png "Wafの設定")









  




