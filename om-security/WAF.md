# Webアプリケーションの脆弱性を狙ったサイバー攻撃の対策をしよう (所要時間：15分程度)
# 問題
Webアプリケーションの脆弱性を狙ったサイバー攻撃により、多くの企業で被害を受けています。本格的な攻撃にさらされると、企業や組織の売上や信用に大きなダメージを与えます。
サービスの成長に伴い、利用者も増えていることから、Webアプリケーションの脆弱性を狙ったサイバー攻撃への対応の検討を本格的に進めるよう上層部から指示がありました。
そこでOCIのWeb Application Firewallの検証を実施することになりました。STEP1として下記要件を満たすことができるように設定を実施してください。

要件
- 下記条件に該当するアクセスがあった場合は、401コードを返却する
   - 日本以外の国からのアクセスがあった場合
   - 1秒以内に同一のIPアドレスから100回以上アクセスがあった場合
   - SQLインジェクションの脅威を受けた場合

設定内容
- 基本情報
  - 名前： OCI_Quest_XX (XXはチーム番号)
  - WAFポリシー・コンパートメント：(チームのコンパートメントを選択)

- アクセス制御
  - 日本以外の国からのアクセスがあった場合に、401コードを返却する設定を実施

- レート制限
  - 1秒以内に同一のIPアドレスから100回以上アクセスがあった場合に、401コードを返却する設定を実施
 







# 解答
- アイデンティティとセキュリティ→ Webアプリケーション・ファイアウォールを選択
  - 画面起動後、ポリシーを選択
 
![Wafの設定](images/WAF/WAF01.png "Wafの設定") 

- 「WAFポリシーの作成」を押下し、「基本情報」に関する情報を入力

![Wafの設定](images/WAF/WAF02.png "Wafの設定") 

- 「次」を押下し、「アクセス制御の有効化」にチェックをいれ、「アクセス制御」に関する情報を入力

![Wafの設定](images/WAF/WAF03.png "Wafの設定") 

- 「次」を押下し、「レート制限ルールの構成の有効化」にチェックをいれ、「レート制限」に関する情報を入力

![Wafの設定](images/WAF/WAF04.png "Wafの設定")


  




