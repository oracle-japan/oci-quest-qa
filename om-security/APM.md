# 外形監視の仕組みを実装してみよう (所要時間：15分程度)
# 問題
サービスの成長に伴い、お客様から「遅い」、「接続しにくい」といった問い合わせが増えてきました。
インフラ、アプリケーションの内部リソースの監視のみでは、上記のような問い合わせに対して、プロアクティブな対応が難しい状況です。
その対応として、外形監視の設定を追加し、アプリケーションの障害をお客様からの連絡より前に検知する対策を実施しようと検討しています。
Oracle Cloud Observability and ManagementのAPMの可用性モニタリングを活用し、MuShopのトップページに対して外形監視の仕組みを実装してください。

前提条件
- APMドメインは、Always Freeドメインとして作成してください。
- 本問題ではアラートの通知までは不要で、ダッシュボードで問題なく動作していることが確認できるところまでがゴールです。

実現したい要件
- MuShopのトップページに対して、10分に1回、アクセスをするように外形監視を実装する (タイムアウトは1分)
- 失敗時は、再実行できるように設定する

設定内容
- モニター定義
   - 名前： OCI_Quest_XX (XXはチーム番号)
   - タイプ：Browser
   - ベースURL ： URLはチームによって異なります
   - レスポンス・コード：200
- 実行設定
  - 上記要件を満たすことができるように調査して設定してください

# 解答
- APM → 可用性モニタリング → リソースを選択
  - 画面起動後、対象チームのAPMドメインを選択 → OCI_Quest_XX (XXはチーム番号)

![モニターの作成](images/APM-monitor/APM_Monitor1.png "モニターの作成")

- 「モニターの作成」を押下し、「モニターの定義」に関する情報を入力

![モニターの作成](images/APM-monitor/APM_Monitor2.png "モニターの作成")

- 「次」を押下し、「実行設定」に関する情報を入力

![モニターの作成](images/APM-monitor/APM_Monitor3.png "モニターの作成")

- 「次」を押下し、「可用性構成」の画面に遷移 (今回は設定不要)

![モニターの作成](images/APM-monitor/APM_Monitor4.png "モニターの作成")

- 「次」を押下し、「Tags」の画面に遷移 (今回は設定不要)

![モニターの作成](images/APM-monitor/APM_Monitor5.png "モニターの作成")

- 「次」を押下し、「Summary」の画面に遷移し、要件通りに設定されていることを確認し、「作成」を押下

![モニターの作成](images/APM-monitor/APM_Monitor6.png "モニターの作成")

- APM → 可用性モニタリング → 概要を選択し、可用性モニタリングが問題なく動作していることを確認

![モニターの作成](images/APM-monitor/APM_Monitor7.png "モニターの作成")






